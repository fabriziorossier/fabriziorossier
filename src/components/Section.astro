---
import { Icon } from "astro-icon/components";

interface Props {
    title: string;
    icon: string;
}

const { title, icon } = Astro.props
---

<div class="collapse collapse-arrow ease-in-out duration-700">
    <input aria-label={title} type="checkbox"/>
    <div class="collapse-title font-extrabold tracking-tight md:text-2xl">
      <div class="flex">
        <Icon name={icon} class="w-8 h-8 mr-4" />
        {title}
      </div>
    </div>
    <div class="collapse-content">
      <slot/>
    </div>
  </div>

<style>
    /* Style the button that is used to open and close the collapsible content */
    .collapsible {
    background-color: #eee;
    color: #444;
    cursor: pointer;
    padding: 18px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 15px;
    }

    /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
    .active, .collapsible:hover {
    background-color: #ccc;
    }

    /* Style the collapsible content. Note: hidden by default */
    .content {
    padding: 0 18px;
    display: none;
    overflow: hidden;
    background-color: #f1f1f1;
    }
</style>

<script>
    let coll = document.getElementsByClassName("collapsible");
    let i;

    for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function(this: HTMLElement) {
        this.classList.toggle("active");
        var content = this.nextElementSibling as HTMLElement;
        if (content.style.display === "block") {
        content.style.display = "none";
        } else {
        content.style.display = "block";
        }
    });
    }
</script>